@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  .font-work { font-family: 'Work Sans', var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }
}

@layer base {
  /* Milker heading font (drop Milker.woff2 into public/fonts) */
  @font-face {
    font-family: 'Milker';
    src: url('/fonts/milker/Milker.otf') format('opentype');
    font-weight: 400 800;
    font-style: normal;
    font-display: swap;
  }
  /* Work Sans for prompt input and suggestions */
  @font-face {
    font-family: 'Work Sans';
    src: url('/fonts/work-sans/WOFF2/WorkSans-Regular.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
  }
  @font-face {
    font-family: 'Work Sans';
    src: url('/fonts/work-sans/WOFF2/WorkSans-Medium.woff2') format('woff2');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
  }
  :root {
    /* Higgsfield-inspired neon noir palette */
    --background: 0 0% 4%;
    --foreground: 0 0% 98%;

    --card: 0 0% 7%;
    --card-foreground: 0 0% 98%;

    --popover: 0 0% 7%;
    --popover-foreground: 0 0% 98%;

    /* Vibrant purple as primary, cyan as accent */
    --primary: 260 100% 65%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 98%;

    --muted: 0 0% 14%;
    --muted-foreground: 0 0% 70%;

    --accent: 190 95% 55%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 85% 55%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 16%;
    --input: 0 0% 16%;
    --ring: 260 100% 65%;

    --chart-1: 260 100% 65%;
    --chart-2: 190 95% 55%;
    --chart-3: 300 85% 60%;
    --chart-4: 0 0% 70%;
    --chart-5: 0 0% 40%;

    --radius: 0.5rem;
  }
  .dark {
    --background: 0 0% 4%;
    --foreground: 0 0% 98%;
    --card: 0 0% 7%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 7%;
    --popover-foreground: 0 0% 98%;
    --primary: 260 100% 65%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14%;
    --muted-foreground: 0 0% 70%;
    --accent: 190 95% 55%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 85% 55%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 16%;
    --input: 0 0% 16%;
    --ring: 260 100% 65%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Milker', var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
    letter-spacing: 0.02em;
    /* Neon gradient field with subtle radial glows */
    background:
      radial-gradient(900px 600px at 80% -10%, hsl(260 100% 65% / 0.22), transparent 65%),
      radial-gradient(900px 600px at 20% -10%, hsl(190 95% 55% / 0.18), transparent 65%),
      radial-gradient(1200px 700px at 50% 120%, hsl(260 100% 65% / 0.12), transparent 70%),
      linear-gradient(to bottom, hsl(0 0% 7%) 0%, hsl(0 0% 4%) 100%);
    background-attachment: fixed;
  }
  /* Apply Milker to all headings */
  h1, h2, h3, h4, h5, .heading {
    font-family: 'Milker', var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
    letter-spacing: 0.03em;
    font-weight: 700;
  }

  /* Ensure non-headings use normal (non-bold) weight by default */
  body, p, span, a, li, label, input, textarea, select, button, small, strong:not([class*="font-"]) {
    font-weight: 400;
    letter-spacing: 0.02em;
  }
}

/* Glass panels for neon theme */
.glass {
  position: relative;
  overflow: hidden;
  border-radius: 1rem;
  background: color-mix(in oklab, hsl(var(--card)) 60%, transparent);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 24px 60px rgba(0,0,0,0.45);
}
.glass::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, rgba(255,255,255,0.06), rgba(255,255,255,0));
  pointer-events: none;
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

@keyframes highlight {
  0% {
    box-shadow: 0 0 0 0 hsl(var(--ring) / 0.1);
    background-color: hsl(var(--muted) / 0.2);
  }
  50% {
    box-shadow: 0 0 0 4px hsl(var(--ring) / 0.2);
    background-color: hsl(var(--muted) / 0.3);
  }
  100% {
    box-shadow: 0 0 0 0 hsl(var(--ring) / 0);
    background-color: transparent;
  }
}

.ring {
  animation: highlight 2s cubic-bezier(0.4, 0, 0.2, 1);
  animation-fill-mode: forwards;
}

/* Horizontal marquee rows for Community Gallery */
@keyframes marquee-left {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}
@keyframes marquee-right {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0);
  }
}
.marquee-row {
  overflow: hidden;
}
.marquee-track {
  display: flex;
  align-items: center;
  gap: 0.5rem; /* matches grid gap-2 */
  width: max-content; /* shrink to content so translateX works as expected */
}
.animate-marquee-left {
  animation: marquee-left var(--marquee-speed, 60s) linear infinite;
}
.animate-marquee-right {
  animation: marquee-right var(--marquee-speed, 60s) linear infinite;
}
.marquee-fade-edges {
  /* optional fade at edges for nicer look */
  mask-image: linear-gradient(to right, transparent, black 8%, black 92%, transparent);
}

/* Neon gradient button */
.btn-neon {
  background: linear-gradient(135deg, hsl(260 100% 65%) 0%, hsl(190 95% 55%) 100%);
  color: hsl(var(--primary-foreground));
}
.btn-neon:hover { opacity: 0.96; }
.btn-neon:active { transform: translateY(0.5px); }
